<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Mybooking ShiftPicker</title>
	<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-bootstrap/0.5pre/css/custom-theme/jquery-ui-1.10.0.custom.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
	<link rel="stylesheet" href="./assets/styles/styles.css" />
	<link rel="stylesheet" href="./assets/styles/style-shift-picker.css" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>
<body class="mybooking-shiftpicker">
	<!-- ShiftPicker start -->
	<div id="mybooking-shiftpicker-1" data-category-code="M" class="mybooking-shiftpicker-content">
		<form class="mybooking-shiftpicker-form" method="POST">
			<div class="mybooking-shiftpicker-head">
				<h1 class="h1">
					Reservar turno
				</h1>
				<p>
					Selecciona el número de vehículos y el día que deseas reservar para ver los turnos disponibles.
				</p>
				<div class="field">
					<label class="label">
						Selecciona cantidad
					</label>
					<div class="control">
						<div class="select">
							<select name="shiftpicker-units">
							</select>
						</div>
					</div>
				</div>
				<div class="field">
					<label class="label">
						Escoge un día
					</label>
					<div class="control">
						<input type="text" name="shiftpicker-date" />
					</div>
				</div>
			</div>
			<div class="mybooking-shiftpicker-container">
				<div class="mybooking-shiftpicker-container-head">
					<span class="shiftpicker-text-date"></span>
				</div>
				<div class="mybooking-shiftpicker-container-arrows">
					<button data-direction="back" class="button shiftpicker-arrow" disabled>
						<i class="fa fa-arrow-left"></i>
						&nbsp;
						Anterior
					</button>
					<button data-direction="next" class="button shiftpicker-arrow">
						Siguiente
						&nbsp;
						<i class="fa fa-arrow-right"></i>
					</button>
				</div>
				<ul class="mybooking-shiftpicker-container-list shiftpicker-turns">
				</ul>
				<div class="mybooking-shiftpicker-container-info shiftpicker-info">
				</div>
				<div class="mybooking-shiftpicker-container-buttons">
					<button type="submit" class="button" disabled="disabled">
						Reservar
					</button>
				</div>
			</div>
		</form>
	</div>
	<!-- ShiftPicker end -->

	<script type="module">
		import('./assets/js/mybooking-engine-init.js')
			.then(async function (module) {
				return await module.default();
			})
			.then(function (module) {
				window.mybookingEngine = module;
				var script = document.getElementById('engine');
				script.setAttribute('src', script.getAttribute('data-src'));
				script.removeAttribute('data-src');
			});
	</script>
	<script id="engine" async data-src="../js/mybooking-js-engine.js"></script>
</body>
</html>

<!-- START TEMPLATES -->
<script type="text/tmpl" id="script_shiftpicker_units_option">
	<option value="<%=model.units%>"><%=model.units%> unidades / max. <%=model.units * 2%> personas</option>
</script>

<script type="text/tmpl" id="script_shiftpicker_turns_item">
	<li class="mybooking-shiftpicker-container-list-item" data-status="<%=model.availability ? 'enabled' : 'disabled'%>">
		<span class="mybooking-shiftpicker-container-list-item_text"><%=model.time_from%> -> <%=model.time_to%></span>
		<small>
			<%=model.units ? units : 0%>
			&nbsp;
			unidades
		</small>
		<small>
			<%=!model.availability ? 'No disponible' : ''%>
		</small>
		<input type="radio" name="time" value="<%=model.time_from%> - <%=model.time_to%>" <%=!model.availability ? 'disabled' : ''%> class="mybooking-shiftpicker-container-list-item_value">
	</li>
</script>

<script type="text/tmpl" id="script_shiftpicker_info">
	<h2 class="h2">
		Tu selección
	</h2>
	<div class="mybooking-shiftpicker-container-info_content">
		<strong>
			<span class="time">
				<%=model.duration%>
			</span>
			&nbsp;
			<span class="time-format">minutos</span>
		</strong>
		<span>
			<span class="units">
				<%=model.units%>
			</span>
			&nbsp;
			Motos de agua
		</span>
		<span class="date">
			<%=model.date%>
		</span>
		<span>
			de
			&nbsp;
			<span class="time-from"><%=model.time_from%></span>
			&nbsp;a&nbsp;
			<span class="time-to"><%=model.time_to%></span>
			&nbsp;
			horas
		</span>
	</div>
</script>
<!-- END TEMPLATES -->